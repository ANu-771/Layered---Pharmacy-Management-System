<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="720.0" prefWidth="1040.0" stylesheets="@../view/table.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="lk.ijse.pharmacy.controller.OrderController">

    <center>
        <VBox spacing="20.0" style="-fx-background-color: white;">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>

            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <children>
                    <ImageView fitHeight="50.0" fitWidth="50.0" pickOnBounds="true" preserveRatio="true">
                        <image>
                            <Image url="@../image/order.png" />
                        </image>
                    </ImageView>
                    <Label text="Order Manage" textFill="#1e293b">
                        <font>
                            <Font name="System Bold" size="26.0" />
                        </font>
                    </Label>
                </children>
            </HBox>

            <Separator />

            <VBox spacing="15.0" style="-fx-background-color: #f8fafc; -fx-background-radius: 15; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 0);" VBox.vgrow="NEVER">
                <padding>
                    <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                </padding>

                <children>
                    <GridPane hgap="20.0" vgap="15.0">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="150.0" />
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="150.0" />
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="150.0" />
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="150.0" />
                        </columnConstraints>
                        <rowConstraints>
                            <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                            <RowConstraints minHeight="10.0" prefHeight="40.0" vgrow="SOMETIMES" />
                        </rowConstraints>

                        <children>
                            <Label text="Order ID" textFill="#475569">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <TextField fx:id="txtOrderId" editable="false" promptText="Auto Generated" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 8;" GridPane.rowIndex="1" />

                            <Label text="Order Date" textFill="#475569" GridPane.columnIndex="1">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <Label fx:id="lblOrderDate" maxWidth="1.7976931348623157E308" prefHeight="40.0" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 0 0 0 10;" text="2024-01-01" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                            <Label text="Customer ID" textFill="#475569" GridPane.columnIndex="2">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <ComboBox fx:id="cmbCustomerId" maxWidth="1.7976931348623157E308" onAction="#cmbCustomerOnAction" prefHeight="35.0" promptText="Select Customer" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 2;" GridPane.columnIndex="2" GridPane.rowIndex="1" />

                            <Label text="Customer Name" textFill="#475569" GridPane.columnIndex="3">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <Label fx:id="lblCustomerName" maxWidth="1.7976931348623157E308" prefHeight="40.0" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 0 0 0 10;" GridPane.columnIndex="3" GridPane.rowIndex="1" />
                        </children>
                    </GridPane>

                    <Separator />

                    <GridPane hgap="20.0" vgap="15.0">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="120.0" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="10.0" prefWidth="200.0" />
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                            <ColumnConstraints hgrow="NEVER" minWidth="10.0" />
                        </columnConstraints>
                        <rowConstraints>
                            <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                            <RowConstraints minHeight="10.0" prefHeight="40.0" vgrow="SOMETIMES" />
                        </rowConstraints>
                        <children>

                            <Label text="Medicine ID" textFill="#475569">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <ComboBox fx:id="cmbMedicineId" maxWidth="1.7976931348623157E308" onAction="#cmbMedicineOnAction" prefHeight="35.0" promptText="Select Medicine" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 2;" GridPane.rowIndex="1" />

                            <Label text="Description (Search)" textFill="#475569" GridPane.columnIndex="1">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <TextField fx:id="txtDescription" onAction="#txtSearchMedicineOnAction" promptText="Type Name &amp; Enter" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 8;" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <font><Font size="13.0" /></font>
                            </TextField>

                            <Label text="Unit Price" textFill="#475569" GridPane.columnIndex="2">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <Label fx:id="lblUnitPrice" maxWidth="1.7976931348623157E308" prefHeight="40.0" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 0 0 0 10;" GridPane.columnIndex="2" GridPane.rowIndex="1" />

                            <Label text="Qty. On Hand" textFill="#475569" GridPane.columnIndex="3">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <Label fx:id="lblQtyOnHand" maxWidth="1.7976931348623157E308" prefHeight="40.0" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 0 0 0 10;" GridPane.columnIndex="3" GridPane.rowIndex="1" />

                            <Label text="Qty" textFill="#475569" GridPane.columnIndex="4">
                                <font><Font name="System Bold" size="14.0" /></font>
                            </Label>
                            <TextField fx:id="txtQty" alignment="CENTER_RIGHT" promptText="Enter Qty" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 8;" GridPane.columnIndex="4" GridPane.rowIndex="1" />

                            <Button fx:id="btnAddToCart" mnemonicParsing="false" onAction="#btnAddToCartOnAction" prefHeight="35.0" prefWidth="120.0" style="-fx-background-color: #3b82f6; -fx-background-radius: 8; -fx-cursor: hand;" text="Add to Cart" textFill="WHITE" GridPane.columnIndex="5" GridPane.rowIndex="1">
                                <font><Font name="System Bold" size="14.0" /></font>
                                <GridPane.margin><Insets left="10.0" /></GridPane.margin>
                            </Button>
                        </children>
                    </GridPane>
                </children>
            </VBox>

            <TableView fx:id="tblOrderCart" style="-fx-background-radius: 8; -fx-border-radius: 8;" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colMedicineId" prefWidth="120.0" text="Medicine ID" />
                    <TableColumn fx:id="colDescription" prefWidth="300.0" text="Description" />
                    <TableColumn fx:id="colQty" prefWidth="100.0" text="Qty" />
                    <TableColumn fx:id="colUnitPrice" prefWidth="150.0" text="Unit Price" />
                    <TableColumn fx:id="colLineTotal" prefWidth="150.0" text="Line Total" />
                    <TableColumn fx:id="colAction" prefWidth="120.0" text="Action" />
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
            </TableView>

            <HBox alignment="CENTER_LEFT" spacing="20.0">
                <children>
                    <Label text="Method:" textFill="#475569">
                        <font><Font name="System Bold" size="16.0" /></font>
                    </Label>
                    <ComboBox fx:id="cmbPaymentMethod" prefWidth="120.0" promptText="Select" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 2;" />

                    <Label text="Cash:" textFill="#475569">
                        <font><Font name="System Bold" size="16.0" /></font>
                        <HBox.margin><Insets left="10.0" /></HBox.margin>
                    </Label>
                    <TextField fx:id="txtCash" promptText="Input Cash" prefWidth="150.0" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 8;">
                        <font><Font size="14.0" /></font>
                    </TextField>

                    <Label text="Balance:" textFill="#475569">
                        <font><Font name="System Bold" size="16.0" /></font>
                        <HBox.margin><Insets left="10.0" /></HBox.margin>
                    </Label>
                    <Label fx:id="lblBalance" text="0.00" textFill="#22c55e">
                        <font><Font name="System Bold" size="18.0" /></font>
                    </Label>

                    <Region HBox.hgrow="ALWAYS" />

                    <Label text="Net Total:" textFill="#ef4444">
                        <font>
                            <Font name="System Bold" size="20.0" />
                        </font>
                    </Label>
                    <Label fx:id="lblNetTotal" text="0.00" textFill="#ef4444">
                        <font>
                            <Font name="System Bold" size="20.0" />
                        </font>
                    </Label>

                    <Button fx:id="btnPlaceOrder" mnemonicParsing="false" onAction="#btnPlaceOrderOnAction" prefHeight="45.0" prefWidth="150.0" style="-fx-background-color: #22c55e; -fx-background-radius: 8; -fx-cursor: hand;" text="Place Order" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="16.0" />
                        </font>
                        <HBox.margin>
                            <Insets left="20.0" />
                        </HBox.margin>
                    </Button>
                </children>
            </HBox>

        </VBox>
    </center>
</BorderPane>